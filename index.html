<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ARIA Agent â€” SDK demo</title>
  <style>
    body { margin:0; display:flex; justify-content:center; }
    video { width:360px; height:600px; background:#000; }
  </style>
</head>
<body>

  <!-- Where the live stream will appear -->
  <video id="avatar" autoplay playsinline muted></video>

  <script type="module">
    import * as DID from "https://cdn.jsdelivr.net/npm/@d-id/client-sdk@latest/+esm";

    const agentId  = "agt_lexY7xGc";
    const auth     = { type: "key",
                       clientKey: "YXV0aDB8NjgxNTExMzZhZjI4ZmRiMGFmODFhYjZjOlNOR1BFdXJlWnFQRUxxTndWeVNEZg==" };

    const videoEl  = document.getElementById("avatar");

    const callbacks = {
      onSrcObjectReady: stream => {
        videoEl.srcObject = stream;
        // kick-start playback just in case
        videoEl.play().catch(() => {});
      }
    };

    const agentManager = await DID.createAgentManager(
      agentId,
      { auth, callbacks, streamOptions: { compatibilityMode: "auto" } }
    );

    await agentManager.connect();
    // Optional greeting:
    // await agentManager.chat("Hi everyone, welcome to class!");
  </script>

</body>
</html>
